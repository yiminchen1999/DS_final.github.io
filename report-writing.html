<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Location Predictions of Squirrels Based on Several Characteristics</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="map.html">Squirrel Map</a>
</li>
<li>
  <a href="P8105_final_proposal.html">Proposal</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="model.html">Frequency</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Shiny
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="shinny-base.html">Shinny Map</a>
    </li>
    <li>
      <a href="shiny_dashboard_template.html">Shiny Dashboard</a>
    </li>
  </ul>
</li>
<li>
  <a href="report-writing.html">Report</a>
</li>
<li>
  <a href="youtube.com">Screencast</a>
</li>
<li>
  <a href="https://github.com/yiminchen1999/DS_final.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Location Predictions of Squirrels Based on
Several Characteristics</h1>

</div>


<div id="abstract" class="section level1">
<h1>Abstract…</h1>
</div>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<div id="general-introduction-of-the-raw-dataset"
class="section level3">
<h3>General introduction of the raw dataset:</h3>
<p>Some data of squirrels in New York central park were collected
starting from October 6th 2018 to 20th over a 14-day period. Some of
their characteristics like ages and fur colors and some of the
activities like sounds and locations were recorded.</p>
</div>
<div id="motivation-and-initial-question" class="section level3">
<h3>Motivation and initial question:</h3>
<p>Squirrels are found everywhere, and it’s observed that some places
have more squirrels than others, but is there any trend of where they
stay with respect to their colors, ages, activities or all other
features? Doing an analysis using squirrel census data may answer the
question.</p>
</div>
<div id="main-final-goal" class="section level3">
<h3>Main final goal:</h3>
<p>The main final goals of the project are to make maps according to the
census and build functions to predict locations of particular squirrels
if their characteristics are provided so that people can use the website
to look for the kinds of squirrels they like.</p>
</div>
<div id="inspirations" class="section level3">
<h3>Inspirations:</h3>
<p>The maps-making process shown in class caught our eyes since it is a
clear and direct way to convey the information. A website called The
Squirrel Census (<a href="https://www.thesquirrelcensus.com/about"
class="uri">https://www.thesquirrelcensus.com/about</a> ) did research
on the squirrels too, but it doesn’t provide any predictions, so we aim
to develop a prediction system. Also, in order to attract more people to
the website, some interactive plots will be made to fully introduce the
raw dataset. The census provides only the data of central park in 2018,
so other datasets like data of central park in other years or data in
2018 of other places will also be collected to make comparisons of any
location changes.</p>
</div>
</div>
<div id="method" class="section level1">
<h1>Method</h1>
<div id="source" class="section level3">
<h3>Source:</h3>
<p>The original raw data we used to analysis is from NYC Open Data, it
includes 3,023 observations in total and some of their characteristics
and corresponding locations are recorded</p>
</div>
<div id="preliminary-work" class="section level3">
<h3>Preliminary work:</h3>
<p>First off, the original raw dataset only includes the data from 2018
in central park, other two datasets were found as extra supporting
materials to compare with the raw model. One dataset contains
information about not only the squirrels in central park, but also in
the whole new york city. Another one is about characteristics and
behaviors of different animals and squirrels are also included.</p>
</div>
<div id="data-cleaning" class="section level3">
<h3>Data cleaning:</h3>
<p>For data tidy and cleaning, the categorical variables were
transformed to numeric ones for analysis and model building. We didn’t
discard the missing values directly but code them as 0 since there are a
lot of them, and omitting them might lose the validity of the
prediction. The dates were also cleaned. For other comparison plots,
same data cleaning step was followed.</p>
</div>
<div id="model-building-process" class="section level3">
<h3>Model building process:</h3>
<p>Since the outputs are both longitudinal and latitudinal, we expected
to make two linear functions, with longitudinal and latitudinal being
the outputs separately against predictors, and combine the two outputs
in the end. We built several models for both longitudinal and
latitudinal outcomes using different methods (p-value, step-wise (both
backward and forward at the same time), criterion-based, and LASSO). The
following explanations are for longitudinal only and the latitudinal one
follows the exactly same procedures.</p>
<p>The first step is to throw all the numerical variables into the model
and check the p-value, the variables are shift + age + primary_fur_color
+ location + activity + reaction + sounds. Although hectare is also a
numerical variable, it’s not included because the users of the model
would not have the information of how many squirrels are there within a
specific hectare, but they only have the information about the
characteristics of specific squirrels that they want to look for. The
variables with p-value less than 0.05 were removed from the model, and
the model built with remaining variables was checked again to make sure
that all of them had p-value less than 0.05. So, the first model
candidate was produced with predictors being ‘shift’, ’ age’,
‘activity’, ‘reaction’, ‘sounds’.</p>
<p>Then, we selected model using automatic procedure, specifically
step-wise regression procedure. Backward, Forward or step-wise methods
might produce different results, but we chose to use step-wise since it
gives a single ‘best’ model. As the result, except for the location, all
other 6 variables are included in this model, which is the second model
candidate.</p>
<p>Next, we used criterion-based procedure. The model with the largest
adjusted R-square valued along with smallest AIC and BIC values are
chosen to be the model candidate. It turned out that it also had all
those 6 variables as the one in automatic procedure.</p>
<p>LASSO model selection method was then used. After looking for the
best lamda value, the third model candidate has all seven predictors,
which means no variable was deleted from the selection procedure.</p>
<p>We have three different models as the final ‘best’ model candidate
for now, and they are all nested within each other. We choose the ‘best’
model according two criteria, adjusted R-squared value and RMSE. For
longitudinal model, the final predictors have 6 predictors (shift + age
+ primary_fur_color + activity + reaction + sounds) since it has the
highest adjust R-squared value and pretty much similar RMSE distribution
as all other models.</p>
<p>As for the latitudinal model, it has 5 predictors (sounds +
primary_fur_color + reaction + activity + shift), but all other models
candidates have 6 predictors. Since the RMSE values and adjusted
R-squared are approximately same among all models, the principal of
parsimony tells us to choose the the most succinct model.</p>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<div id="data-summaries" class="section level3">
<h3>Data summaries:</h3>
<p>First graph we drew was ‘Number of Observations’ v.s. ‘Time of Day’,
and morning and afternoon data were separated and found out that
squirrels tend to be more active in the afternoon or at night time.
However, the limitation of the data is that we were not able to get the
exact time period of their activities but only either morning or
evening, we can assume they are present prior to sunset since they
should be busy collecting the food when there is sunlight. Second graph
we drew was ‘Number of Observations’ v.s. ‘Primary Fur Color’, it’s
clearly shown that different number of observations were made in
different days and there is no clear pattern. Squirrels were observed to
be the most active on Oct.7 and Oct.13, and they clearly became less
active in last few days. Generally, the gray squirrels are the most
massive and black ones are the fewest. The color of cinnamon was also
pretty frequently observed with some color-not-identified ones. Third
graph we drew was a pie chart indicating the distribution of squirrels
by their physiological age. The majority (89%) of the population is
juvenile while the remaining 11% is adult. It’s not sure how their age
stage was determined by the observers, maybe by their sizes. The
limitation is only ‘adult’ and ‘juvenile’ were categorized, but the
predictions might be more valid if other stages like ‘baby’ or ‘old’ are
provided.</p>
<pre><code>Some interesting plots:

Main model:

Comparions:</code></pre>
</div>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<div id="findings" class="section level3">
<h3>Findings:</h3>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
